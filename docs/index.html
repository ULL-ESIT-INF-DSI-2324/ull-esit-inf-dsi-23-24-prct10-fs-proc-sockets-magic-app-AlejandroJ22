<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>p09-filesystem-magic-app</title><meta name="description" content="Documentation for p09-filesystem-magic-app"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">p09-filesystem-magic-app</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h2>p09-filesystem-magic-app</h2></div><div class="tsd-panel tsd-typography"><p><a href="https://classroom.github.com/a/7bX30zK4"><img src="https://classroom.github.com/assets/deadline-readme-button-24ddc0f5d75046c5622901739e7c5dd533143b0c8e959d652212380cedb1ea36.svg" alt="Review Assignment Due Date"></a></p>
<p><a href="https://github.com/ULL-ESIT-INF-DSI-2324/ull-esit-inf-dsi-23-24-prct10-fs-proc-sockets-magic-app-AlejandroJ22/actions/workflows/coveralls.yml"><img src="https://github.com/ULL-ESIT-INF-DSI-2324/ull-esit-inf-dsi-23-24-prct10-fs-proc-sockets-magic-app-AlejandroJ22/actions/workflows/coveralls.yml/badge.svg" alt="Coveralls"></a></p>
<p><a href="https://github.com/ULL-ESIT-INF-DSI-2324/ull-esit-inf-dsi-23-24-prct10-fs-proc-sockets-magic-app-AlejandroJ22/actions/workflows/node.js.yml"><img src="https://github.com/ULL-ESIT-INF-DSI-2324/ull-esit-inf-dsi-23-24-prct10-fs-proc-sockets-magic-app-AlejandroJ22/actions/workflows/node.js.yml/badge.svg" alt="Tests"></a></p>
<p><a href="https://github.com/ULL-ESIT-INF-DSI-2324/ull-esit-inf-dsi-23-24-prct10-fs-proc-sockets-magic-app-AlejandroJ22/actions/workflows/build.yml"><img src="https://github.com/ULL-ESIT-INF-DSI-2324/ull-esit-inf-dsi-23-24-prct10-fs-proc-sockets-magic-app-AlejandroJ22/actions/workflows/build.yml/badge.svg" alt="Sonar-Cloud"></a></p>
<a id="md:informe-práctica-10---aplicación-cliente-servidor-para-coleccionistas-de-cartas-magic" class="tsd-anchor"></a><h1><a href="#md:informe-práctica-10---aplicación-cliente-servidor-para-coleccionistas-de-cartas-magic">Informe práctica 10 - Aplicación cliente-servidor para coleccionistas de cartas Magic.</a></h1><p><img src="images/client-server.png" alt="Imagen Cliente-Servidor"></p>
<a id="md:alejandro-javier-aguiar-pérez" class="tsd-anchor"></a><h2><a href="#md:alejandro-javier-aguiar-pérez">Alejandro Javier Aguiar Pérez</a></h2><blockquote>
<p><a href="mailto:alu0101487168@ull.edu.es">alu0101487168@ull.edu.es</a></p>
</blockquote>
<a id="md:índice" class="tsd-anchor"></a><h2><a href="#md:índice">Índice</a></h2><ol>
<li><a href="#md:resumen">Resumen</a></li>
<li><a href="#md:chalk">Chalk</a></li>
<li><a href="#md:yargs">Yargs</a></li>
<li><a href="#md:eventemitter">EventEmitter</a></li>
<li><a href="#md:net">NET</a></li>
<li><a href="#md:servidor">Servidor</a></li>
<li><a href="#md:cliente">Cliente</a></li>
<li><a href="#md:magic-app">Magic App</a><ul>
<li><a href="#md:clase-card">Clase Card</a></li>
<li><a href="#md:clase-cardcollection">Clase CardCollection</a></li>
</ul>
</li>
<li><a href="#md:problemas">Problemas</a></li>
<li><a href="#md:ejercicio-pe">Ejercicio PE</a></li>
<li><a href="#md:referencias">Referencias</a></li>
</ol>
<a id="md:resumen" class="tsd-anchor"></a><h2><a href="#md:resumen">Resumen</a></h2><p>En esta práctica, se implementa un servidor y un cliente para una aplicación de colección de cartas Magic usando sockets proporcionados por el módulo net de Node.js. Los usuarios interactúan con el cliente a través de la línea de comandos, mientras que el servidor gestiona las operaciones solicitadas por los clientes y almacena la información de las cartas en archivos JSON en el sistema de archivos.</p>
<p>Los requisitos de la aplicación son los siguientes:</p>
<ul>
<li>Permitir múltiples usuarios interactuar simultáneamente con el servidor.</li>
<li>Implementar operaciones como añadir, modificar, eliminar, listar y mostrar información de cartas en la colección de un usuario.</li>
<li>Almacenar la información de las cartas en archivos JSON en el sistema de archivos del servidor.</li>
<li>Utilizar paquetes como yargs y chalk para el manejo de la línea de comandos y el formato de salida.</li>
<li>Emplear el patrón petición-respuesta para la comunicación entre cliente y servidor, utilizando objetos JSON como medio de intercambio de información.</li>
<li>Realizar pruebas unitarias para verificar el correcto funcionamiento del código y garantizar la robustez ante entradas no válidas.</li>
<li>Documentar el código utilizando TypeDoc y seguir una metodología de desarrollo dirigido por pruebas (TDD/BDD).</li>
<li>Incluir flujos de trabajo de GitHub Actions para realizar pruebas en diferentes entornos, enviar datos de cobertura a Coveralls y realizar análisis de calidad y seguridad del código en Sonar Cloud.</li>
<li>Respetar los principios SOLID de diseño orientado a objetos.</li>
</ul>
<blockquote>
<p><strong><a href="#md:índice">Volver al índice</a></strong></p>
</blockquote>
<a id="md:chalk" class="tsd-anchor"></a><h2><a href="#md:chalk">Chalk</a></h2><p>El paquete <em>chalk</em> es una herramienta utilizada en Node.js para dar formato y colorear texto en la consola. Permite resaltar mensajes de salida, hacerlos más legibles y mejorar la apariencia general de las impresiones por consola. Es especialmente útil para diferenciar mensajes informativos de mensajes de error, o para destacar cierta información importante.</p>
<p>Un ejemplo de como usar <em>chalk</em> puede ser el siguiente:</p>
<pre><code class="language-ts"><span class="hl-0">import</span><span class="hl-1"> </span><span class="hl-2">chalk</span><span class="hl-1"> </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&quot;chalk&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">// Colorear texto</span><br/><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-2">chalk</span><span class="hl-1">.</span><span class="hl-5">blue</span><span class="hl-1">(</span><span class="hl-3">&quot;Este texto es azul&quot;</span><span class="hl-1">));</span><br/><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-2">chalk</span><span class="hl-1">.</span><span class="hl-5">red</span><span class="hl-1">(</span><span class="hl-3">&quot;Este texto es rojo&quot;</span><span class="hl-1">));</span><br/><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-2">chalk</span><span class="hl-1">.</span><span class="hl-5">green</span><span class="hl-1">(</span><span class="hl-3">&quot;Este texto es verde&quot;</span><span class="hl-1">));</span><br/><br/><span class="hl-4">// Combinar estilos</span><br/><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-2">chalk</span><span class="hl-1">.</span><span class="hl-2">blue</span><span class="hl-1">.</span><span class="hl-5">bold</span><span class="hl-1">(</span><span class="hl-3">&quot;Este texto es azul y negrita&quot;</span><span class="hl-1">));</span><br/><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-2">chalk</span><span class="hl-1">.</span><span class="hl-2">red</span><span class="hl-1">.</span><span class="hl-5">underline</span><span class="hl-1">(</span><span class="hl-3">&quot;Este texto es rojo y subrayado&quot;</span><span class="hl-1">));</span><br/><br/><span class="hl-4">// Cambiar el color de fondo</span><br/><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-2">chalk</span><span class="hl-1">.</span><span class="hl-2">bgYellow</span><span class="hl-1">.</span><span class="hl-5">black</span><span class="hl-1">(</span><span class="hl-3">&quot;Texto con fondo amarillo&quot;</span><span class="hl-1">));</span><br/><br/><span class="hl-4">// Combinar múltiples estilos</span><br/><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-2">chalk</span><span class="hl-1">.</span><span class="hl-2">red</span><span class="hl-1">.</span><span class="hl-2">bold</span><span class="hl-1">.</span><span class="hl-2">bgWhite</span><span class="hl-1">.</span><span class="hl-5">underline</span><span class="hl-1">(</span><span class="hl-3">&quot;Texto rojo, negrita, subrayado y con fondo blanco&quot;</span><span class="hl-1">));</span>
</code><button>Copy</button></pre>
<p>Aunque en este proyecto he decidido no ahondar demasiado en el uso de chalk ya que no creo que es lo que pretende para esta práctica, así que solo coloree de diferentes maneras los mensajes informativos como se requería.</p>
<blockquote>
<p><strong><a href="#md:índice">Volver al índice</a></strong></p>
</blockquote>
<a id="md:yargs" class="tsd-anchor"></a><h2><a href="#md:yargs">Yargs</a></h2><p>El paquete <em>yargs</em> es una herramienta en Node.js que facilita la creación de interfaces de línea de comandos (CLI) de manera sencilla y flexible. Permite definir comandos, opciones y argumentos para tus aplicaciones de línea de comandos de una manera intuitiva y fácil de usar. <em>yargs</em> simplifica la tarea de analizar y procesar los argumentos pasados por línea de comandos en la aplicación.</p>
<p>Un ejemplo de como usar yargs puede ser el siguiente, extraído directamente desde su página web:</p>
<pre><code class="language-ts"><span class="hl-4">// For ESM imports</span><br/><span class="hl-0">import</span><span class="hl-1"> </span><span class="hl-2">yargs</span><span class="hl-1"> </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;yargs&#39;</span><br/><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">hideBin</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;yargs/helpers&#39;</span><br/><br/><span class="hl-5">yargs</span><span class="hl-1">(</span><span class="hl-5">hideBin</span><span class="hl-1">(</span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">argv</span><span class="hl-1">))</span><br/><span class="hl-1">  .</span><span class="hl-5">command</span><span class="hl-1">(</span><span class="hl-3">&#39;curl &lt;url&gt;&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;fetch the contents of the URL&#39;</span><span class="hl-1">, () </span><span class="hl-6">=&gt;</span><span class="hl-1"> {}, (</span><span class="hl-2">argv</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-5">info</span><span class="hl-1">(</span><span class="hl-2">argv</span><span class="hl-1">)</span><br/><span class="hl-1">  })</span><br/><span class="hl-1">  .</span><span class="hl-5">demandCommand</span><span class="hl-1">(</span><span class="hl-7">1</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-5">parse</span><span class="hl-1">()</span>
</code><button>Copy</button></pre>
<p>Tampoco decidí ahondar demasiado en su uso, tan solo lo necesario.</p>
<blockquote>
<p><strong><a href="#md:índice">Volver al índice</a></strong></p>
</blockquote>
<a id="md:eventemitter" class="tsd-anchor"></a><h2><a href="#md:eventemitter">EventEmitter</a></h2><p>EventEmitter es una clase en Node.js que facilita la implementación de la comunicación entre diferentes partes de un programa de manera eficiente y desacoplada. Permite la emisión y escucha de eventos, donde un evento es simplemente una acción o ocurrencia en la aplicación. Los oyentes son funciones que se ejecutan cuando ocurre un evento específico.</p>
<p>La clase EventEmitter se utiliza para gestionar eventos y manejar la comunicación asíncrona en Node.js. Al heredar de la clase EventEmitter del módulo events, cualquier clase que extienda EventEmitter tendrá la capacidad de emitir y escuchar eventos.</p>
<blockquote>
<p><strong><a href="#md:índice">Volver al índice</a></strong></p>
</blockquote>
<a id="md:net" class="tsd-anchor"></a><h2><a href="#md:net">NET</a></h2><p>El módulo net es una parte esencial de Node.js que proporciona una API para la creación de servidores y clientes TCP (Protocolo de Control de Transmisión). TCP es un protocolo de red ampliamente utilizado que garantiza una conexión confiable y bidireccional entre dos dispositivos en una red.</p>
<p>El módulo net permite la creación de servidores TCP que pueden escuchar conexiones entrantes en un puerto específico y manejar esas conexiones. También permite la creación de clientes TCP que pueden establecer conexiones salientes con servidores TCP en un puerto y una dirección IP específicos.</p>
<p>La API proporcionada por el módulo net es asíncrona y basada en eventos, lo que significa que utiliza la clase EventEmitter para emitir eventos relacionados con la conexión y proporciona métodos para registrar oyentes para estos eventos.</p>
<blockquote>
<p><strong><a href="#md:índice">Volver al índice</a></strong></p>
</blockquote>
<a id="md:servidor" class="tsd-anchor"></a><h2><a href="#md:servidor">Servidor</a></h2><p>Respecto a la creación del servidor los puntos más interesantes sobre las decisiones de diseño son:</p>
<ul>
<li>Comunicación con los clientes</li>
</ul>
<p><strong>Creación del servidor TCP</strong>: La aplicación utiliza el módulo net de Node.js para crear un servidor TCP que escucha en el puerto 60300. Esto permite que los clientes se conecten al servidor y envíen mensajes para realizar operaciones en la colección de cartas.</p>
<p><strong>Manejo de eventos de conexión</strong>: Se utilizan eventos como &quot;data&quot;, &quot;close&quot; y &quot;error&quot; para manejar la comunicación entre el servidor y los clientes. Por ejemplo, cuando un cliente envía datos al servidor, se activa el evento &quot;data&quot;, lo que desencadena la ejecución para procesar los mensajes recibidos.</p>
<ul>
<li>Manipulación de la colección de cartas</li>
</ul>
<p><strong>Creación de la colección de cartas</strong>: Cada vez que se recibe un mensaje de un cliente, se crea una nueva instancia de la clase CardCollection, que representa la colección de cartas asociada al usuario especificado en el mensaje.</p>
<p><strong>Selección de la acción</strong>: El servidor analiza el mensaje recibido para determinar la acción solicitada por el cliente. Las acciones pueden ser &quot;add&quot; (añadir una carta), &quot;update&quot; (actualizar una carta), &quot;read&quot; (leer información de una carta), &quot;list&quot; (listar todas las cartas) o &quot;remove&quot; (eliminar una carta).</p>
<p><strong>Manipulación de las cartas</strong>: Dependiendo de la acción especificada en el mensaje, el servidor interactúa con la colección de cartas llamando a los métodos correspondientes, como <em>addCard</em>, <em>updateCard</em>, <em>showCardInfo</em>, <em>listCards</em> o <em>removeCard</em>. Estos métodos se encargan de realizar las operaciones necesarias en la colección de cartas y devolver un mensaje de estado al cliente.</p>
<ul>
<li>Otras decisiones de diseño son:</li>
</ul>
<p><strong>Serialización de datos</strong>: Antes de enviar los mensajes de respuesta al cliente, el servidor serializa los datos en formato JSON para facilitar la comunicación entre el servidor y los clientes.</p>
<p><strong>Gestión de errores</strong>: Se implementa una lógica para manejar errores durante la ejecución de las operaciones en la colección de cartas. Si ocurre algún error, se envía un mensaje de error al cliente junto con una descripción del problema.</p>
<blockquote>
<p><strong><a href="#md:índice">Volver al índice</a></strong></p>
</blockquote>
<a id="md:cliente" class="tsd-anchor"></a><h2><a href="#md:cliente">Cliente</a></h2><p>En cuanto a la implementación del cliente:</p>
<ul>
<li>Comunicación con el servidor</li>
</ul>
<p><strong>Conexión al servidor</strong>: El cliente utiliza net.connect() para establecer una conexión TCP con el servidor que escucha en el puerto 60300.</p>
<p><strong>Envío de mensajes al servidor</strong>: Cuando el cliente ejecuta un comando desde la línea de comandos, como &quot;add&quot;, &quot;update&quot;, &quot;read&quot;, &quot;list&quot; o &quot;remove&quot;, se crea un mensaje JSON que contiene la acción y los datos necesarios. Este mensaje se envía al servidor utilizando client.write().</p>
<p><strong>Recepción de respuestas del servidor</strong>: El cliente escucha los datos que envía el servidor y los concatena en una variable wholeData. Luego, cuando la conexión con el servidor se cierra (&#39;end&#39;), se intenta analizar el JSON completo y se muestra el mensaje correspondiente en la consola.</p>
<ul>
<li>Interacción del usuario a través de la línea de comandos</li>
</ul>
<p><strong>Uso de Yargs para definir comandos</strong>: El cliente utiliza el paquete yargs para definir los comandos que puede ejecutar el usuario desde la línea de comandos. Cada comando tiene opciones específicas que el usuario puede proporcionar, como el nombre de usuario, el ID de la carta, el nombre de la carta, etc.</p>
<p><strong>Creación de mensajes JSON dinámicamente</strong>: Cuando el usuario ejecuta un comando, como &quot;add&quot; o &quot;update&quot;, se crea un mensaje JSON que incluye la acción especificada y los datos proporcionados por el usuario. Esto permite una comunicación estructurada entre el cliente y el servidor.</p>
<p><strong>Validación de opciones de línea de comandos</strong>: Se utilizan las opciones proporcionadas por el usuario para crear una nueva carta o realizar otras operaciones en la colección de cartas. Antes de enviar el mensaje al servidor, se valida que las opciones proporcionadas sean válidas según las reglas definidas en las opciones de Yargs.</p>
<blockquote>
<p><strong><a href="#md:índice">Volver al índice</a></strong></p>
</blockquote>
<a id="md:magic-app" class="tsd-anchor"></a><h2><a href="#md:magic-app">Magic App</a></h2><p>El proyecto de la Magic App experimentó varios cambios en su implementación para mejorar la eficiencia y la estructura del código. Uno de los cambios significativos se centró en el uso del patrón de devolución de llamada (<em>&quot;callback pattern&quot;</em>) en la clase <em>CardCollection</em>, lo que a priori debería mejorar la gestión de las operaciones relacionadas con la colección de cartas.</p>
<blockquote>
<p><strong><a href="#md:índice">Volver al índice</a></strong></p>
</blockquote>
<a id="md:clase-card" class="tsd-anchor"></a><h3><a href="#md:clase-card">Clase Card</a></h3><p>La clase <em>Card</em> representa una carta del juego Magic: The Gathering y tiene las siguientes opciones de diseño:</p>
<p>Esta clase no ha sufrido ningún cambio.</p>
<ul>
<li><strong>Constructor</strong>: La clase tiene propiedades públicas que representan las características de una carta, como su ID, nombre, coste de mana, color, tipo, rareza, reglas, poder y resistencia (solo para <em>CRIATURAS</em>), lealtad (solo para <em>PLANESWALKERS</em>) y valor. Estas propiedades se inicializan en el constructor y son accesibles desde fuera de la clase. También cuenta con la <strong>validación de atributos específicos</strong> como lo son el poder y la resistencia para las <em>CRIATURAS</em>, o la lealtad para los <em>PLANESWALKERS</em></li>
</ul>
<pre><code class="language-ts"><span class="hl-4">/**</span><br/><span class="hl-4"> * Constructor de la clase Card.</span><br/><span class="hl-4"> * </span><span class="hl-6">@param</span><span class="hl-4"> </span><span class="hl-2">id</span><span class="hl-4"> El ID de la carta.</span><br/><span class="hl-4"> * </span><span class="hl-6">@param</span><span class="hl-4"> </span><span class="hl-2">name</span><span class="hl-4"> El nombre de la carta.</span><br/><span class="hl-4"> * </span><span class="hl-6">@param</span><span class="hl-4"> </span><span class="hl-2">mana</span><span class="hl-4"> El coste de mana de la carta.</span><br/><span class="hl-4"> * </span><span class="hl-6">@param</span><span class="hl-4"> </span><span class="hl-2">cardColor</span><span class="hl-4"> El color de la carta.</span><br/><span class="hl-4"> * </span><span class="hl-6">@param</span><span class="hl-4"> </span><span class="hl-2">cardType</span><span class="hl-4"> El tipo de la carta.</span><br/><span class="hl-4"> * </span><span class="hl-6">@param</span><span class="hl-4"> </span><span class="hl-2">cardRarity</span><span class="hl-4"> La rareza de la carta.</span><br/><span class="hl-4"> * </span><span class="hl-6">@param</span><span class="hl-4"> </span><span class="hl-2">rules</span><span class="hl-4"> Las reglas de la carta.</span><br/><span class="hl-4"> * </span><span class="hl-6">@param</span><span class="hl-4"> </span><span class="hl-2">powerAndResistance</span><span class="hl-4"> El poder y resistencia de la carta (solo para criaturas).</span><br/><span class="hl-4"> * </span><span class="hl-6">@param</span><span class="hl-4"> </span><span class="hl-2">loyalty</span><span class="hl-4"> La lealtad de la carta (solo para planeswalkers).</span><br/><span class="hl-4"> * </span><span class="hl-6">@param</span><span class="hl-4"> </span><span class="hl-2">value</span><span class="hl-4"> El valor de la carta.</span><br/><span class="hl-4"> */</span><br/><span class="hl-5">constructor</span><span class="hl-1">(</span><br/><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-2">id</span><span class="hl-1">: </span><span class="hl-2">number</span><span class="hl-1">,</span><br/><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-2">name</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">,</span><br/><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-2">mana</span><span class="hl-1">: </span><span class="hl-2">number</span><span class="hl-1">,</span><br/><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-2">cardColor</span><span class="hl-1">: </span><span class="hl-2">CardColor</span><span class="hl-1">,</span><br/><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-2">cardType</span><span class="hl-1">: </span><span class="hl-2">CardType</span><span class="hl-1">,</span><br/><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-2">cardRarity</span><span class="hl-1">: </span><span class="hl-2">CardRarity</span><span class="hl-1">,</span><br/><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-2">rules</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">,</span><br/><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-2">powerAndResistance</span><span class="hl-1">: [</span><span class="hl-2">number</span><span class="hl-1">, </span><span class="hl-2">number</span><span class="hl-1">] | </span><span class="hl-6">null</span><span class="hl-1">,</span><br/><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-2">loyalty</span><span class="hl-1">: </span><span class="hl-2">number</span><span class="hl-1"> | </span><span class="hl-6">null</span><span class="hl-1">,</span><br/><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-2">value</span><span class="hl-1">: </span><span class="hl-2">number</span><span class="hl-1">,</span><br/><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-2">id</span><span class="hl-1"> = </span><span class="hl-2">id</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-2">name</span><span class="hl-1"> = </span><span class="hl-2">name</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-2">mana</span><span class="hl-1"> = </span><span class="hl-2">mana</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-2">cardColor</span><span class="hl-1"> = </span><span class="hl-2">cardColor</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-2">cardType</span><span class="hl-1"> = </span><span class="hl-2">cardType</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-2">cardRarity</span><span class="hl-1"> = </span><span class="hl-2">cardRarity</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-2">cardType</span><span class="hl-1"> === </span><span class="hl-2">CardType</span><span class="hl-1">.</span><span class="hl-8">CREATURE</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-2">powerAndResistance</span><span class="hl-1"> === </span><span class="hl-6">null</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-0">throw</span><span class="hl-1"> </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-5">Error</span><span class="hl-1">(</span><br/><span class="hl-1">        </span><span class="hl-3">&quot;Una carta del tipo CRIATURA debe de tener asociada un atributo de fuerza/resistencia.&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      );</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-2">powerAndResistance</span><span class="hl-1"> = </span><span class="hl-2">powerAndResistance</span><span class="hl-1">;</span><br/><span class="hl-1">  } </span><span class="hl-0">else</span><span class="hl-1"> </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-2">cardType</span><span class="hl-1"> === </span><span class="hl-2">CardType</span><span class="hl-1">.</span><span class="hl-8">PLANESWALKER</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-2">loyalty</span><span class="hl-1"> === </span><span class="hl-6">null</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-0">throw</span><span class="hl-1"> </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-5">Error</span><span class="hl-1">(</span><br/><span class="hl-1">        </span><span class="hl-3">&quot;Una carta del tipo PLANESWALKER debe de tener asociada un atributo de lealtad.&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      );</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-2">loyalty</span><span class="hl-1"> = </span><span class="hl-2">loyalty</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">  </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-2">value</span><span class="hl-1"> = </span><span class="hl-2">value</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<ul>
<li><strong>Método de representación de atributos</strong>: la clase proporciona un método <em>attributes()</em> que devuelve una cadena con todas las características de la carta formateadas. Este método utiliza el paquete <em>chalk</em> para resaltar el color del texto en función del color de la carta.</li>
</ul>
<pre><code class="language-ts"><span class="hl-4">/**</span><br/><span class="hl-4"> * Método que devuelve una representación en cadena de las características de la carta.</span><br/><span class="hl-4"> * </span><span class="hl-6">@returns</span><span class="hl-4"> Una cadena que contiene las características de la carta.</span><br/><span class="hl-4"> */</span><br/><span class="hl-5">attributes</span><span class="hl-1">(): </span><span class="hl-2">string</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">let</span><span class="hl-1"> </span><span class="hl-2">attributes</span><span class="hl-1"> = </span><span class="hl-3">&quot;Card Attributes:</span><span class="hl-9">\n</span><span class="hl-3">&quot;</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-2">attributes</span><span class="hl-1"> += </span><span class="hl-3">`ID: </span><span class="hl-6">${</span><span class="hl-6">this</span><span class="hl-10">.</span><span class="hl-2">id</span><span class="hl-6">}</span><span class="hl-9">\n</span><span class="hl-3">`</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-2">attributes</span><span class="hl-1"> += </span><span class="hl-3">`Name: </span><span class="hl-6">${</span><span class="hl-6">this</span><span class="hl-10">.</span><span class="hl-2">name</span><span class="hl-6">}</span><span class="hl-9">\n</span><span class="hl-3">`</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-2">attributes</span><span class="hl-1"> += </span><span class="hl-3">`Mana: </span><span class="hl-6">${</span><span class="hl-6">this</span><span class="hl-10">.</span><span class="hl-2">mana</span><span class="hl-6">}</span><span class="hl-9">\n</span><span class="hl-3">`</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-2">attributes</span><span class="hl-1"> += </span><span class="hl-3">`Color: `</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-0">switch</span><span class="hl-1"> (</span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-2">cardColor</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-2">CardColor</span><span class="hl-1">.</span><span class="hl-8">WHITE</span><span class="hl-1">:</span><br/><span class="hl-1">      </span><span class="hl-2">attributes</span><span class="hl-1"> += </span><span class="hl-2">chalk</span><span class="hl-1">.</span><span class="hl-5">white</span><span class="hl-1">(</span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-2">cardColor</span><span class="hl-1">) + </span><span class="hl-3">&quot;</span><span class="hl-9">\n</span><span class="hl-3">&quot;</span><span class="hl-1">;</span><br/><span class="hl-1">      </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-2">CardColor</span><span class="hl-1">.</span><span class="hl-8">BLUE</span><span class="hl-1">:</span><br/><span class="hl-1">      </span><span class="hl-2">attributes</span><span class="hl-1"> += </span><span class="hl-2">chalk</span><span class="hl-1">.</span><span class="hl-5">blue</span><span class="hl-1">(</span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-2">cardColor</span><span class="hl-1">) + </span><span class="hl-3">&quot;</span><span class="hl-9">\n</span><span class="hl-3">&quot;</span><span class="hl-1">;</span><br/><span class="hl-1">      </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-2">CardColor</span><span class="hl-1">.</span><span class="hl-8">BLACK</span><span class="hl-1">:</span><br/><span class="hl-1">      </span><span class="hl-2">attributes</span><span class="hl-1"> += </span><span class="hl-2">chalk</span><span class="hl-1">.</span><span class="hl-5">black</span><span class="hl-1">(</span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-2">cardColor</span><span class="hl-1">) + </span><span class="hl-3">&quot;</span><span class="hl-9">\n</span><span class="hl-3">&quot;</span><span class="hl-1">;</span><br/><span class="hl-1">      </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-2">CardColor</span><span class="hl-1">.</span><span class="hl-8">RED</span><span class="hl-1">:</span><br/><span class="hl-1">      </span><span class="hl-2">attributes</span><span class="hl-1"> += </span><span class="hl-2">chalk</span><span class="hl-1">.</span><span class="hl-5">red</span><span class="hl-1">(</span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-2">cardColor</span><span class="hl-1">) + </span><span class="hl-3">&quot;</span><span class="hl-9">\n</span><span class="hl-3">&quot;</span><span class="hl-1">;</span><br/><span class="hl-1">      </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-2">CardColor</span><span class="hl-1">.</span><span class="hl-8">GREEN</span><span class="hl-1">:</span><br/><span class="hl-1">      </span><span class="hl-2">attributes</span><span class="hl-1"> += </span><span class="hl-2">chalk</span><span class="hl-1">.</span><span class="hl-5">green</span><span class="hl-1">(</span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-2">cardColor</span><span class="hl-1">) + </span><span class="hl-3">&quot;</span><span class="hl-9">\n</span><span class="hl-3">&quot;</span><span class="hl-1">;</span><br/><span class="hl-1">      </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-2">CardColor</span><span class="hl-1">.</span><span class="hl-8">COLORLESS</span><span class="hl-1">:</span><br/><span class="hl-1">      </span><span class="hl-2">attributes</span><span class="hl-1"> += </span><span class="hl-2">chalk</span><span class="hl-1">.</span><span class="hl-5">gray</span><span class="hl-1">(</span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-2">cardColor</span><span class="hl-1">) + </span><span class="hl-3">&quot;</span><span class="hl-9">\n</span><span class="hl-3">&quot;</span><span class="hl-1">;</span><br/><span class="hl-1">      </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-2">CardColor</span><span class="hl-1">.</span><span class="hl-8">MULTICOLORED</span><span class="hl-1">:</span><br/><span class="hl-1">      </span><span class="hl-2">attributes</span><span class="hl-1"> += </span><span class="hl-2">chalk</span><span class="hl-1">.</span><span class="hl-5">yellow</span><span class="hl-1">(</span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-2">cardColor</span><span class="hl-1">) + </span><span class="hl-3">&quot;</span><span class="hl-9">\n</span><span class="hl-3">&quot;</span><span class="hl-1">;</span><br/><span class="hl-1">      </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-0">default</span><span class="hl-1">:</span><br/><span class="hl-1">      </span><span class="hl-2">attributes</span><span class="hl-1"> += </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-2">cardColor</span><span class="hl-1"> + </span><span class="hl-3">&quot;</span><span class="hl-9">\n</span><span class="hl-3">&quot;</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">  </span><span class="hl-2">attributes</span><span class="hl-1"> += </span><span class="hl-3">`Type: </span><span class="hl-6">${</span><span class="hl-6">this</span><span class="hl-10">.</span><span class="hl-2">cardType</span><span class="hl-6">}</span><span class="hl-9">\n</span><span class="hl-3">`</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-2">attributes</span><span class="hl-1"> += </span><span class="hl-3">`Rarity: </span><span class="hl-6">${</span><span class="hl-6">this</span><span class="hl-10">.</span><span class="hl-2">cardRarity</span><span class="hl-6">}</span><span class="hl-9">\n</span><span class="hl-3">`</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-2">attributes</span><span class="hl-1"> += </span><span class="hl-3">`Rules: </span><span class="hl-6">${</span><span class="hl-6">this</span><span class="hl-10">.</span><span class="hl-2">rules</span><span class="hl-6">}</span><span class="hl-9">\n</span><span class="hl-3">`</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-2">powerAndResistance</span><span class="hl-1"> !== </span><span class="hl-6">null</span><span class="hl-1">)</span><br/><span class="hl-1">    </span><span class="hl-2">attributes</span><span class="hl-1"> += </span><span class="hl-3">`Power: </span><span class="hl-6">${</span><span class="hl-6">this</span><span class="hl-10">.</span><span class="hl-2">powerAndResistance</span><span class="hl-10">[</span><span class="hl-7">0</span><span class="hl-10">]</span><span class="hl-6">}</span><span class="hl-3">, Resistance: </span><span class="hl-6">${</span><span class="hl-6">this</span><span class="hl-10">.</span><span class="hl-2">powerAndResistance</span><span class="hl-10">[</span><span class="hl-7">1</span><span class="hl-10">]</span><span class="hl-6">}</span><span class="hl-9">\n</span><span class="hl-3">`</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-2">loyalty</span><span class="hl-1"> !== </span><span class="hl-6">null</span><span class="hl-1">) </span><span class="hl-2">attributes</span><span class="hl-1"> += </span><span class="hl-3">`Loyalty: </span><span class="hl-6">${</span><span class="hl-6">this</span><span class="hl-10">.</span><span class="hl-2">loyalty</span><span class="hl-6">}</span><span class="hl-9">\n</span><span class="hl-3">`</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-2">attributes</span><span class="hl-1"> += </span><span class="hl-3">`Value: </span><span class="hl-6">${</span><span class="hl-6">this</span><span class="hl-10">.</span><span class="hl-2">value</span><span class="hl-6">}</span><span class="hl-9">\n</span><span class="hl-3">`</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-2">attributes</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<blockquote>
<p><strong><a href="#md:índice">Volver al índice</a></strong></p>
</blockquote>
<a id="md:clase-cardcollection" class="tsd-anchor"></a><h3><a href="#md:clase-cardcollection">Clase CardCollection</a></h3><p>Esta clase representa una colección de cartas en el juego de Magic: The Gathering. </p>
<p>Se optó por usar un mapa de cartas basado en su ID. Lo que permite un acceso más eficiente a las cartas y simplifica la lógica de algunos métodos, como la actualización y eliminación de cartas. En esta práctica para poder mantener el mensaje informativo sobre el estado de cada acción se ha implementado el <strong>patron callback</strong>.</p>
<p>Ejemplo de Uso del <strong>Callback Pattern</strong>
Uno de los cambios más significativos se introdujo en los métodos de interacción con la colección, como addCard(), updateCard(), removeCard(), listCards() y showCardInfo(). Estos métodos ahora aceptan callbacks como argumentos, lo que permite ejecutar acciones específicas después de completar una operación en la colección de cartas. Aunque este cambio ha dado problemas con la <strong>serialización</strong> y <strong>deserialización</strong> de objetos JSON, estos problemas lo comentaremos posteriormente.</p>
<pre><code class="language-ts"><span class="hl-4">/**</span><br/><span class="hl-4"> * Añade una nueva carta a la colección.</span><br/><span class="hl-4"> * </span><span class="hl-6">@param</span><span class="hl-4"> </span><span class="hl-2">newCard</span><span class="hl-4"> La nueva carta que se va a añadir.</span><br/><span class="hl-4"> * </span><span class="hl-6">@param</span><span class="hl-4"> </span><span class="hl-2">callback</span><span class="hl-4"> Función de devolución de llamada que maneja el resultado de la operación.</span><br/><span class="hl-4"> */</span><br/><span class="hl-5">addCard</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-2">newCard</span><span class="hl-1">: </span><span class="hl-2">Card</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">callback</span><span class="hl-1">: (</span><span class="hl-2">successMessage</span><span class="hl-1">: </span><span class="hl-11">string</span><span class="hl-1">, </span><span class="hl-2">errorMessage</span><span class="hl-1">: </span><span class="hl-11">string</span><span class="hl-1"> | </span><span class="hl-11">null</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-6">void</span><span class="hl-1">,</span><br/><span class="hl-1">): </span><span class="hl-6">void</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-2">cards</span><span class="hl-1">.</span><span class="hl-5">has</span><span class="hl-1">(</span><span class="hl-2">newCard</span><span class="hl-1">.</span><span class="hl-2">id</span><span class="hl-1">)) {</span><br/><span class="hl-1">    </span><span class="hl-5">callback</span><span class="hl-1">(</span><br/><span class="hl-1">      </span><span class="hl-3">&quot;&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-2">chalk</span><span class="hl-1">.</span><span class="hl-5">red</span><span class="hl-1">(</span><span class="hl-3">`Error`</span><span class="hl-1">) +</span><br/><span class="hl-1">      </span><span class="hl-3">`: Ya existe una carta con el mismo ID en la colección.`</span><span class="hl-1">,</span><br/><span class="hl-1">    );</span><br/><span class="hl-1">  } </span><span class="hl-0">else</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-2">cards</span><span class="hl-1">.</span><span class="hl-5">set</span><span class="hl-1">(</span><span class="hl-2">newCard</span><span class="hl-1">.</span><span class="hl-2">id</span><span class="hl-1">, </span><span class="hl-2">newCard</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-5">writeCards</span><span class="hl-1">((</span><span class="hl-2">message</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-2">message</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-5">callback</span><span class="hl-1">(</span><br/><span class="hl-1">          </span><span class="hl-3">`La carta ha sido `</span><span class="hl-1"> +</span><br/><span class="hl-1">          </span><span class="hl-2">chalk</span><span class="hl-1">.</span><span class="hl-5">green</span><span class="hl-1">(</span><span class="hl-3">`añadida correctamente`</span><span class="hl-1">) +</span><br/><span class="hl-1">          </span><span class="hl-3">` a la colección.`</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-3">&quot;&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        );</span><br/><span class="hl-1">      } </span><span class="hl-0">else</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-5">callback</span><span class="hl-1">(</span><span class="hl-3">&quot;&quot;</span><span class="hl-1">, </span><span class="hl-2">message</span><span class="hl-1">);</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<ul>
<li><strong>Interfaz pública</strong>: La clase implementa una interfaz <em>CardCollectionInterface</em> que describe los métodos públicos que puede utilizar un usuario para interactuar con la colección de cartas. Estos métodos incluyen <em>addCard()</em>, <em>updateCard()</em>, <em>removeCard()</em>, <em>listCards()</em> y <em>showCardInfo()</em> que devuelven callbacks.</li>
</ul>
<pre><code class="language-ts"><span class="hl-4">/**</span><br/><span class="hl-4"> * Interfaz que describe los métodos públicos de la clase CardCollection.</span><br/><span class="hl-4"> */</span><br/><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-6">interface</span><span class="hl-1"> </span><span class="hl-11">CardCollectionInterface</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">/**</span><br/><span class="hl-4">   * Añade una nueva carta a la colección.</span><br/><span class="hl-4">   * </span><span class="hl-6">@param</span><span class="hl-4"> </span><span class="hl-2">newCard</span><span class="hl-4"> La nueva carta que se va a añadir.</span><br/><span class="hl-4">   * </span><span class="hl-6">@param</span><span class="hl-4"> </span><span class="hl-2">callback</span><span class="hl-4"> Función de devolución de llamada que maneja el resultado de la operación.</span><br/><span class="hl-4">   */</span><br/><span class="hl-1">  </span><span class="hl-5">addCard</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-2">newCard</span><span class="hl-1">: </span><span class="hl-11">Card</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">callback</span><span class="hl-1">: (</span><span class="hl-2">successMessage</span><span class="hl-1">: </span><span class="hl-11">string</span><span class="hl-1">, </span><span class="hl-2">errorMessage</span><span class="hl-1">: </span><span class="hl-11">string</span><span class="hl-1"> | </span><span class="hl-11">null</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-11">void</span><span class="hl-1">,</span><br/><span class="hl-1">  ): </span><span class="hl-11">void</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  </span><span class="hl-4">/**</span><br/><span class="hl-4">   * Actualiza una carta en la colección.</span><br/><span class="hl-4">   * </span><span class="hl-6">@param</span><span class="hl-4"> </span><span class="hl-2">modifiedCard</span><span class="hl-4"> La carta modificada que se va a actualizar.</span><br/><span class="hl-4">   * </span><span class="hl-6">@param</span><span class="hl-4"> </span><span class="hl-2">callback</span><span class="hl-4"> Función de devolución de llamada que maneja el resultado de la operación.</span><br/><span class="hl-4">   */</span><br/><span class="hl-1">  </span><span class="hl-5">updateCard</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-2">modifiedCard</span><span class="hl-1">: </span><span class="hl-11">Card</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">callback</span><span class="hl-1">: (</span><span class="hl-2">successMessage</span><span class="hl-1">: </span><span class="hl-11">string</span><span class="hl-1">, </span><span class="hl-2">errorMessage</span><span class="hl-1">: </span><span class="hl-11">string</span><span class="hl-1"> | </span><span class="hl-11">null</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-11">void</span><span class="hl-1">,</span><br/><span class="hl-1">  ): </span><span class="hl-11">void</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  </span><span class="hl-4">/**</span><br/><span class="hl-4">   * Elimina una carta de la colección.</span><br/><span class="hl-4">   * </span><span class="hl-6">@param</span><span class="hl-4"> </span><span class="hl-2">cardId</span><span class="hl-4"> El ID de la carta que se va a eliminar.</span><br/><span class="hl-4">   * </span><span class="hl-6">@param</span><span class="hl-4"> </span><span class="hl-2">callback</span><span class="hl-4"> Función de devolución de llamada que maneja el resultado de la operación.</span><br/><span class="hl-4">   */</span><br/><span class="hl-1">  </span><span class="hl-5">removeCard</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-2">cardId</span><span class="hl-1">: </span><span class="hl-11">number</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">callback</span><span class="hl-1">: (</span><span class="hl-2">successMessage</span><span class="hl-1">: </span><span class="hl-11">string</span><span class="hl-1">, </span><span class="hl-2">errorMessage</span><span class="hl-1">: </span><span class="hl-11">string</span><span class="hl-1"> | </span><span class="hl-11">null</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-11">void</span><span class="hl-1">,</span><br/><span class="hl-1">  ): </span><span class="hl-11">void</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  </span><span class="hl-4">/**</span><br/><span class="hl-4">   * Devuelve una cadena con la lista de cartas en la colección.</span><br/><span class="hl-4">   * </span><span class="hl-6">@param</span><span class="hl-4"> </span><span class="hl-2">callback</span><span class="hl-4"> Función de devolución de llamada que maneja el resultado de la operación.</span><br/><span class="hl-4">   */</span><br/><span class="hl-1">  </span><span class="hl-5">listCards</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-5">callback</span><span class="hl-1">: (</span><span class="hl-2">cardList</span><span class="hl-1">: </span><span class="hl-11">string</span><span class="hl-1">, </span><span class="hl-2">errorMessage</span><span class="hl-1">: </span><span class="hl-11">string</span><span class="hl-1"> | </span><span class="hl-11">null</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-11">void</span><span class="hl-1">,</span><br/><span class="hl-1">  ): </span><span class="hl-11">void</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  </span><span class="hl-4">/**</span><br/><span class="hl-4">   * Devuelve información detallada de una carta específica en la colección.</span><br/><span class="hl-4">   * </span><span class="hl-6">@param</span><span class="hl-4"> </span><span class="hl-2">cardId</span><span class="hl-4"> El ID de la carta de la cual se quiere obtener la información.</span><br/><span class="hl-4">   * </span><span class="hl-6">@param</span><span class="hl-4"> </span><span class="hl-2">callback</span><span class="hl-4"> Función de devolución de llamada que maneja el resultado de la operación.</span><br/><span class="hl-4">   */</span><br/><span class="hl-1">  </span><span class="hl-5">showCardInfo</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-2">cardId</span><span class="hl-1">: </span><span class="hl-11">number</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">callback</span><span class="hl-1">: (</span><span class="hl-2">cardInfo</span><span class="hl-1">: </span><span class="hl-11">string</span><span class="hl-1">, </span><span class="hl-2">errorMessage</span><span class="hl-1">: </span><span class="hl-11">string</span><span class="hl-1"> | </span><span class="hl-11">null</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-11">void</span><span class="hl-1">,</span><br/><span class="hl-1">  ): </span><span class="hl-11">void</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<ul>
<li><strong>Constructor</strong>: El constructor de <em>CardCollection</em> toma el nombre de usuario asociado a la colección y crea un mapa para almacenar las cartas. También inicializa la ruta del archivo de la colección y carga las cartas desde el archivo si existe.</li>
</ul>
<pre><code class="language-ts"><span class="hl-4">/**</span><br/><span class="hl-4"> * El nombre de usuario asociado a la colección.</span><br/><span class="hl-4"> */</span><br/><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-2">readonly</span><span class="hl-1"> </span><span class="hl-12">username</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">;</span><br/><span class="hl-4">/**</span><br/><span class="hl-4"> * La ruta del archivo de la colección.</span><br/><span class="hl-4"> */</span><br/><span class="hl-2">private</span><span class="hl-1"> </span><span class="hl-2">readonly</span><span class="hl-1"> </span><span class="hl-12">collectionPath</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">;</span><br/><span class="hl-4">/**</span><br/><span class="hl-4"> * Mapa que contiene las cartas en la colección, donde la clave es el ID de la carta.</span><br/><span class="hl-4"> */</span><br/><span class="hl-2">private</span><span class="hl-1"> </span><span class="hl-12">cards</span><span class="hl-1">: </span><span class="hl-2">Map</span><span class="hl-1">&lt;</span><span class="hl-2">number</span><span class="hl-1">, </span><span class="hl-2">Card</span><span class="hl-1">&gt;;</span><br/><br/><span class="hl-4">/**</span><br/><span class="hl-4"> * Constructor de la clase CardCollection.</span><br/><span class="hl-4"> * </span><span class="hl-6">@param</span><span class="hl-4"> </span><span class="hl-2">username</span><span class="hl-4"> El nombre de usuario asociado a la colección.</span><br/><span class="hl-4"> * </span><span class="hl-6">@param</span><span class="hl-4"> </span><span class="hl-2">callback</span><span class="hl-4"> Función de devolución de llamada que maneja el resultado de la operación.</span><br/><span class="hl-4"> */</span><br/><span class="hl-5">constructor</span><span class="hl-1">(</span><span class="hl-2">username</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">, </span><span class="hl-2">callback</span><span class="hl-1">: (</span><span class="hl-2">message</span><span class="hl-1">: </span><span class="hl-11">string</span><span class="hl-1"> | </span><span class="hl-11">null</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-6">void</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-2">username</span><span class="hl-1"> = </span><span class="hl-2">username</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-2">collectionPath</span><span class="hl-1"> = </span><span class="hl-3">`./collections/</span><span class="hl-6">${</span><span class="hl-6">this</span><span class="hl-10">.</span><span class="hl-2">username</span><span class="hl-6">}</span><span class="hl-3">.json`</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-2">cards</span><span class="hl-1"> = </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-5">Map</span><span class="hl-1">&lt;</span><span class="hl-11">number</span><span class="hl-1">, </span><span class="hl-11">Card</span><span class="hl-1">&gt;();</span><br/><br/><span class="hl-1">  </span><span class="hl-0">if</span><span class="hl-1"> (!</span><span class="hl-2">fs</span><span class="hl-1">.</span><span class="hl-5">existsSync</span><span class="hl-1">(</span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-2">collectionPath</span><span class="hl-1">)) {</span><br/><span class="hl-1">    </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-5">writeCards</span><span class="hl-1">(</span><span class="hl-2">callback</span><span class="hl-1">);</span><br/><span class="hl-1">  } </span><span class="hl-0">else</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-5">loadCards</span><span class="hl-1">(</span><span class="hl-2">callback</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<ul>
<li><p><strong>Métodos de carga y escritura</strong>: La clase tiene dos métodos <em>loadCards()</em> y <em>writeCards()</em> para cargar las cartas desde el archivo y escribir las cartas en el archivo, respectivamente. Estos métodos utilizan la <strong>API asíncrona de Node.js</strong> para trabajar con el sistema de archivos no como la anterior vez que se requería el uso de la API síncrona.</p>
</li>
<li><p><strong>Métodos de interacción con la colección</strong>: Los métodos <em>addCard()</em>, <em>updateCard()</em>, <em>removeCard()</em>, <em>listCards()</em> y <em>showCardInfo()</em> permiten al usuario <strong>agregar</strong>, <strong>actualizar</strong>, <strong>eliminar</strong>, <strong>listar</strong> y <strong>ver</strong> información detallada de las cartas en la colección. Si la función modifica algo de la colección se hace una llamada a <em>writeCards()</em> para guardar el estado de la colección en el .JSON.</p>
</li>
</ul>
<blockquote>
<p><strong><a href="#md:índice">Volver al índice</a></strong></p>
</blockquote>
<a id="md:problemas" class="tsd-anchor"></a><h2><a href="#md:problemas">Problemas</a></h2><p>La conexión con el servidor se ejecuta con normalidad, la ejecución del server no para cuando recibe los mensajes desde el cliente, pero por algún motivo es incapaz de escribir el fichero alojado en el repositorio collection, a pesar de que si que es capaz de crearlo si este no esta creado. Cuando se recibe el mensaje desde el servidor hasta el cliente, se obtiene un mensaje de error que creo que tiene que ver con la serialización del JSON. Ejemplo de ejecución del programa:</p>
<ul>
<li>Cliente:</li>
</ul>
<pre><code class="language-bash"><span class="hl-1">[~/ull-esit-inf-dsi-23-24-prct10-fs-proc-sockets-magic-app-AlejandroJ22(main)]</span><span class="hl-2">$node</span><span class="hl-1"> dist/src/client-server-magic/client.js add --user </span><span class="hl-3">&quot;ale&quot;</span><span class="hl-1"> --id 1 --name </span><span class="hl-3">&quot;Black Lotus&quot;</span><span class="hl-1"> --mana 0 --color </span><span class="hl-3">&quot;colorless&quot;</span><span class="hl-1"> --type </span><span class="hl-3">&quot;Artifact&quot;</span><span class="hl-1"> --rarity </span><span class="hl-3">&quot;mythic&quot;</span><span class="hl-1"> --rules </span><span class="hl-3">&quot;T: Sacrifice Black Lotus: Add three mana of any one color to your mana pool.&quot;</span><span class="hl-1"> --value 20000</span><br/><span class="hl-5">Conectado</span><span class="hl-1"> </span><span class="hl-3">al</span><span class="hl-1"> </span><span class="hl-3">servidor</span><br/><span class="hl-5">Enviando</span><span class="hl-1"> </span><span class="hl-3">mensaje</span><span class="hl-1"> </span><span class="hl-3">al</span><span class="hl-1"> </span><span class="hl-3">servidor.</span><br/><span class="hl-5">Error</span><span class="hl-1"> </span><span class="hl-3">parsing</span><span class="hl-1"> </span><span class="hl-3">JSON:</span><span class="hl-1"> </span><span class="hl-3">SyntaxError:</span><span class="hl-1"> </span><span class="hl-3">Unexpected</span><span class="hl-1"> </span><span class="hl-3">non-whitespace</span><span class="hl-1"> </span><span class="hl-3">character</span><span class="hl-1"> </span><span class="hl-3">after</span><span class="hl-1"> </span><span class="hl-3">JSON</span><span class="hl-1"> </span><span class="hl-3">at</span><span class="hl-1"> </span><span class="hl-3">position</span><span class="hl-1"> </span><span class="hl-7">88</span><span class="hl-1"> (line </span><span class="hl-7">1</span><span class="hl-1"> </span><span class="hl-3">column</span><span class="hl-1"> </span><span class="hl-7">89</span><span class="hl-1">)</span><br/><span class="hl-1">    </span><span class="hl-5">at</span><span class="hl-1"> </span><span class="hl-3">JSON.parse</span><span class="hl-1"> (&lt;anonymous&gt;)</span><br/><span class="hl-1">    </span><span class="hl-5">at</span><span class="hl-1"> </span><span class="hl-3">Socket.</span><span class="hl-1">&lt;</span><span class="hl-3">anonymou</span><span class="hl-1">s&gt; (file:///home/usuario/ull-esit-inf-dsi-23-24-prct10-fs-proc-sockets-magic-app-AlejandroJ22/dist/src/client-server-magic/client.js:257:30)</span><br/><span class="hl-1">    </span><span class="hl-5">at</span><span class="hl-1"> </span><span class="hl-3">Socket.emit</span><span class="hl-1"> (node:events:531:35)</span><br/><span class="hl-1">    </span><span class="hl-5">at</span><span class="hl-1"> </span><span class="hl-3">endReadableNT</span><span class="hl-1"> (node:internal/streams/readable:1696:12)</span><br/><span class="hl-1">    </span><span class="hl-5">at</span><span class="hl-1"> </span><span class="hl-3">process.processTicksAndRejections</span><span class="hl-1"> (node:internal/process/task_queues:82:21)</span><br/><span class="hl-5">Conexión</span><span class="hl-1"> </span><span class="hl-3">cerrada</span>
</code><button>Copy</button></pre>
<ul>
<li>Server:</li>
</ul>
<pre><code class="language-bash"><span class="hl-1">[~/ull-esit-inf-dsi-23-24-prct10-fs-proc-sockets-magic-app-AlejandroJ22(main)]</span><span class="hl-2">$node</span><span class="hl-1"> dist/src/client-server-magic/server.js</span><br/><span class="hl-5">Esperando</span><span class="hl-1"> </span><span class="hl-3">clientes.</span><br/><span class="hl-5">Cliente</span><span class="hl-1"> </span><span class="hl-3">conectado.</span><br/><span class="hl-5">Mensaje</span><span class="hl-1"> </span><span class="hl-3">recibido.</span><br/><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-5">user:</span><span class="hl-1"> </span><span class="hl-3">&#39;ale&#39;,</span><br/><span class="hl-1">  </span><span class="hl-5">action:</span><span class="hl-1"> </span><span class="hl-3">&#39;add&#39;,</span><br/><span class="hl-1">  </span><span class="hl-5">card:</span><span class="hl-1"> </span><span class="hl-3">{</span><br/><span class="hl-1">    </span><span class="hl-5">id:</span><span class="hl-1"> </span><span class="hl-7">1</span><span class="hl-3">,</span><br/><span class="hl-1">    </span><span class="hl-5">name:</span><span class="hl-1"> </span><span class="hl-3">&#39;Black Lotus&#39;,</span><br/><span class="hl-1">    </span><span class="hl-5">mana:</span><span class="hl-1"> </span><span class="hl-7">0</span><span class="hl-3">,</span><br/><span class="hl-1">    </span><span class="hl-5">cardColor:</span><span class="hl-1"> </span><span class="hl-3">&#39;colorless&#39;,</span><br/><span class="hl-1">    </span><span class="hl-5">cardType:</span><span class="hl-1"> </span><span class="hl-3">&#39;Artifact&#39;,</span><br/><span class="hl-1">    </span><span class="hl-5">cardRarity:</span><span class="hl-1"> </span><span class="hl-3">&#39;mythic&#39;,</span><br/><span class="hl-1">    </span><span class="hl-5">rules:</span><span class="hl-1"> </span><span class="hl-3">&#39;T: Sacrifice Black Lotus: Add three mana of any one color to your mana pool.&#39;,</span><br/><span class="hl-1">    </span><span class="hl-5">powerAndResistance:</span><span class="hl-1"> </span><span class="hl-3">null,</span><br/><span class="hl-1">    </span><span class="hl-5">loyalty:</span><span class="hl-1"> </span><span class="hl-3">null,</span><br/><span class="hl-1">    </span><span class="hl-5">value:</span><span class="hl-1"> </span><span class="hl-7">20000</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span><br/><span class="hl-5">Un</span><span class="hl-1"> </span><span class="hl-3">cliente</span><span class="hl-1"> </span><span class="hl-3">se</span><span class="hl-1"> </span><span class="hl-3">ha</span><span class="hl-1"> </span><span class="hl-3">desconectado</span>
</code><button>Copy</button></pre>
<blockquote>
<p><strong><a href="#md:índice">Volver al índice</a></strong></p>
</blockquote>
<a id="md:ejercicio-pe" class="tsd-anchor"></a><h2><a href="#md:ejercicio-pe">Ejercicio PE</a></h2><p>El ejercicio consistía en aplicar el <strong>patrón callback</strong> a alguno de los métodos de la práctica 9, en mi caso elegí aplicar <em>callback pattern</em> al método add pero como mi método add utiliza un método auxiliar para escribir la modificación en el JSON pues tuve que aplicar el patrón callback en los dos. Que consigo aplicando este patrón, pues obtener una mejor manera de controlar el flujo de mi programa y poder envíar mejores mensajes de estados sobre lo que ha pasado con mi programa en ciertos puntos de la ejecución. El error que cometí y que me mostraron en la correción fue el de no usar una estructura (exito, error) que transferirle al callback, en su lugar solo usaba un mensaje lo que limitaba mi programa.</p>
<blockquote>
<p><strong><a href="#md:índice">Volver al índice</a></strong></p>
</blockquote>
<a id="md:referencias" class="tsd-anchor"></a><h2><a href="#md:referencias">Referencias</a></h2><p><a href="https://www.npmjs.com/package/chalk">Chalk</a>
<a href="https://www.npmjs.com/package/yargs">Yargs</a>
<a href="https://nodejs.org/docs/latest/api/events.html">Events</a>
<a href="https://nodejs.org/docs/latest/api/fs.html">fs</a>
<a href="https://nodejs.org/docs/latest/api/net.html">net</a></p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-index-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><h4 class="uppercase">Member Visibility</h4><form><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-private" name="private"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Private</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></form></div><div class="tsd-theme-toggle"><h4 class="uppercase">Theme</h4><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-index-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#md:informe-práctica-10---aplicación-cliente-servidor-para-coleccionistas-de-cartas-magic"><span>Informe práctica 10 -<wbr/> <wbr/>Aplicación cliente-<wbr/>servidor para coleccionistas de cartas <wbr/>Magic.</span></a><ul><li><a href="#md:alejandro-javier-aguiar-pérez"><span>Alejandro <wbr/>Javier <wbr/>Aguiar <wbr/>Pérez</span></a></li><li><a href="#md:índice"><span>Índice</span></a></li><li><a href="#md:resumen"><span>Resumen</span></a></li><li><a href="#md:chalk"><span>Chalk</span></a></li><li><a href="#md:yargs"><span>Yargs</span></a></li><li><a href="#md:eventemitter"><span>Event<wbr/>Emitter</span></a></li><li><a href="#md:net"><span>NET</span></a></li><li><a href="#md:servidor"><span>Servidor</span></a></li><li><a href="#md:cliente"><span>Cliente</span></a></li><li><a href="#md:magic-app"><span>Magic <wbr/>App</span></a></li><li><ul><li><a href="#md:clase-card"><span>Clase <wbr/>Card</span></a></li><li><a href="#md:clase-cardcollection"><span>Clase <wbr/>Card<wbr/>Collection</span></a></li></ul></li><li><a href="#md:problemas"><span>Problemas</span></a></li><li><a href="#md:ejercicio-pe"><span>Ejercicio PE</span></a></li><li><a href="#md:referencias"><span>Referencias</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="index.html" class="current"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-1"></use></svg><span>p09-filesystem-magic-app</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base="."><li>Loading...</li></ul></nav></div></div></div><div class="tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div></body></html>